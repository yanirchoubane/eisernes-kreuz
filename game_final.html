<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eisernes Kreuz - Simulation Totale</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Georgia', serif; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); color: #e0e0e0; line-height: 1.6; }
        .container { display: flex; min-height: 100vh; }
        .sidebar { width: 280px; background: linear-gradient(180deg, #0d0d0d 0%, #1a1a1a 100%); border-right: 3px solid #d4af37; padding: 20px; overflow-y: auto; position: fixed; left: 0; top: 0; height: 100vh; z-index: 1000; }
        .sidebar h1 { color: #d4af37; font-size: 18px; margin-bottom: 30px; text-align: center; border-bottom: 2px solid #d4af37; padding-bottom: 15px; }
        .nav-section { margin-bottom: 25px; }
        .nav-section h3 { color: #d4af37; font-size: 12px; text-transform: uppercase; margin-bottom: 10px; letter-spacing: 2px; }
        .nav-button { width: 100%; padding: 12px; margin-bottom: 8px; background: rgba(212, 175, 55, 0.1); border: 1px solid #d4af37; color: #e0e0e0; cursor: pointer; border-radius: 4px; transition: all 0.3s ease; font-size: 14px; text-align: left; }
        .nav-button:hover { background: rgba(212, 175, 55, 0.3); transform: translateX(5px); }
        .nav-button.active { background: #d4af37; color: #0d0d0d; font-weight: bold; }
        .main-content { margin-left: 280px; flex: 1; padding: 30px; overflow-y: auto; }
        .header { background: linear-gradient(90deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; margin-bottom: 30px; border-radius: 8px; }
        .header h1 { color: #d4af37; font-size: 32px; margin-bottom: 10px; }
        .player-info { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px; }
        .info-box { background: rgba(212, 175, 55, 0.05); border-left: 3px solid #d4af37; padding: 15px; border-radius: 4px; }
        .info-box label { color: #d4af37; font-weight: bold; font-size: 12px; text-transform: uppercase; display: block; margin-bottom: 5px; }
        .info-box .value { color: #e0e0e0; font-size: 16px; }
        .page { display: none; }
        .page.active { display: block; }
        .page-title { color: #d4af37; font-size: 28px; margin-bottom: 20px; border-bottom: 2px solid #d4af37; padding-bottom: 10px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; color: #d4af37; font-weight: bold; margin-bottom: 8px; font-size: 14px; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; color: #e0e0e0; border-radius: 4px; font-family: inherit; font-size: 14px; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; background: rgba(212, 175, 55, 0.15); box-shadow: 0 0 10px rgba(212, 175, 55, 0.3); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .btn { padding: 12px 24px; border: 2px solid #d4af37; background: rgba(212, 175, 55, 0.1); color: #d4af37; cursor: pointer; border-radius: 4px; font-weight: bold; transition: all 0.3s ease; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; }
        .btn:hover { background: #d4af37; color: #0d0d0d; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3); }
        .btn-primary { background: #d4af37; color: #0d0d0d; border-color: #d4af37; }
        .btn-primary:hover { background: #e0c158; border-color: #e0c158; }
        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        .actions-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .action-card { background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
        .action-card:hover { background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(212, 175, 55, 0.1) 100%); transform: translateY(-5px); box-shadow: 0 10px 25px rgba(212, 175, 55, 0.2); }
        .action-card h3 { color: #d4af37; margin-bottom: 10px; font-size: 18px; }
        .action-card p { color: #b0b0b0; font-size: 13px; margin-bottom: 10px; }
        .action-card .effect { color: #4caf50; font-size: 12px; font-weight: bold; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .stat-box { background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px; text-align: center; }
        .stat-box h4 { color: #d4af37; font-size: 12px; text-transform: uppercase; margin-bottom: 10px; }
        .stat-box .value { color: #e0e0e0; font-size: 28px; font-weight: bold; }
        .skill-bar { background: rgba(0, 0, 0, 0.5); border: 1px solid #d4af37; height: 25px; border-radius: 4px; overflow: hidden; margin-bottom: 10px; }
        .skill-progress { height: 100%; background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%); width: 0%; transition: width 0.3s ease; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: bold; font-size: 11px; }
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); }
        .modal.active { display: flex; align-items: center; justify-content: center; }
        .modal-content { background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border: 3px solid #d4af37; padding: 30px; border-radius: 8px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #d4af37; padding-bottom: 15px; }
        .modal-header h2 { color: #d4af37; font-size: 24px; }
        .close-btn { background: none; border: none; color: #d4af37; font-size: 28px; cursor: pointer; transition: all 0.3s ease; }
        .close-btn:hover { color: #e0c158; transform: scale(1.2); }
        .modal-body { color: #e0e0e0; margin-bottom: 20px; line-height: 1.8; }
        .modal-footer { display: flex; gap: 10px; justify-content: flex-end; }
        .journal-entry { background: rgba(212, 175, 55, 0.05); border-left: 3px solid #d4af37; padding: 15px; margin-bottom: 15px; border-radius: 4px; }
        .journal-entry .date { color: #d4af37; font-weight: bold; font-size: 12px; text-transform: uppercase; }
        .journal-entry .content { color: #e0e0e0; margin-top: 8px; }
        @media (max-width: 768px) { .sidebar { width: 200px; } .main-content { margin-left: 200px; padding: 20px; } .form-row { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h1>‚öîÔ∏è EISERNES KREUZ</h1>
            <div class="nav-section">
                <h3>Jeu</h3>
                <button class="nav-button active" onclick="showPage('creation')">Cr√©ation</button>
                <button class="nav-button" onclick="showPage('dashboard')">Tableau de Bord</button>
            </div>
            <div class="nav-section">
                <h3>Activit√©s</h3>
                <button class="nav-button" onclick="showPage('actions')">Actions Quotidiennes</button>
                <button class="nav-button" onclick="showPage('missions')">Missions</button>
                <button class="nav-button" onclick="showPage('combat')">Combat</button>
            </div>
            <div class="nav-section">
                <h3>Progression</h3>
                <button class="nav-button" onclick="showPage('career')">Carri√®re</button>
                <button class="nav-button" onclick="showPage('skills')">Comp√©tences</button>
                <button class="nav-button" onclick="showPage('decorations')">D√©corations</button>
            </div>
            <div class="nav-section">
                <h3>Sant√©</h3>
                <button class="nav-button" onclick="showPage('health')">√âtat Physique</button>
                <button class="nav-button" onclick="showPage('mental')">√âtat Mental</button>
            </div>
            <div class="nav-section">
                <h3>Autres</h3>
                <button class="nav-button" onclick="showPage('journal')">Journal</button>
                <button class="nav-button" onclick="showPage('stats')">Statistiques</button>
                <button class="nav-button" onclick="resetGame()">Nouvelle Partie</button>
            </div>
        </div>

        <div class="main-content">
            <!-- CREATION PAGE -->
            <div id="creation" class="page active">
                <div class="header">
                    <h1>Cr√©ation de Personnage</h1>
                    <p>Configurez votre officier pour commencer votre simulation de 1933 √† 1945</p>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Nom Complet</label>
                        <input type="text" id="playerName" placeholder="Ex: Klaus Weber" value="">
                    </div>
                    <div class="form-group">
                        <label>Date de Naissance</label>
                        <input type="date" id="birthDate" value="1915-01-01">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>R√©gion d'Origine</label>
                        <select id="region">
                            <option value="prussie">Prusse</option>
                            <option value="baviere">Bavi√®re</option>
                            <option value="saxe">Saxe</option>
                            <option value="rheinland">Rh√©nanie</option>
                            <option value="autriche">Autriche</option>
                            <option value="sudetes">Sud√®tes</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Parcours √âducatif (1933-1939)</label>
                        <select id="education">
                            <option value="hitlerjugend">Jeunesses Hitl√©riennes (Endoctrinement +10)</option>
                            <option value="universite">Universit√© (Officier +10)</option>
                            <option value="usine">Usine d'Armement (Technique +10)</option>
                            <option value="campagne">Campagne (Endurance +10)</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Branche Militaire Pr√©f√©r√©e</label>
                        <select id="branch">
                            <option value="heer">Heer (Arm√©e de Terre)</option>
                            <option value="luftwaffe">Luftwaffe (Aviation)</option>
                            <option value="kriegsmarine">Kriegsmarine (Marine)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Sp√©cialisation d'Unit√©</label>
                        <select id="specialization">
                            <option value="infanterie">Infanterie</option>
                            <option value="panzer">Panzer (Chars)</option>
                            <option value="artillerie">Artillerie</option>
                            <option value="reconnaissance">Reconnaissance</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Notes Personnelles (Vos Ambitions)</label>
                    <textarea id="notes" placeholder="√âcrivez vos objectifs..." rows="5"></textarea>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="startGame()">Commencer la Simulation</button>
                    <button class="btn" onclick="loadGame()">Charger une Partie</button>
                </div>
            </div>

            <!-- DASHBOARD PAGE -->
            <div id="dashboard" class="page">
                <div class="header">
                    <h1 id="dashboardTitle">Tableau de Bord</h1>
                    <div class="player-info">
                        <div class="info-box">
                            <label>Nom</label>
                            <div class="value" id="dashboardName">-</div>
                        </div>
                        <div class="info-box">
                            <label>Rang</label>
                            <div class="value" id="dashboardRank">-</div>
                        </div>
                        <div class="info-box">
                            <label>Branche</label>
                            <div class="value" id="dashboardBranch">-</div>
                        </div>
                        <div class="info-box">
                            <label>Date</label>
                            <div class="value" id="dashboardDate">-</div>
                        </div>
                        <div class="info-box">
                            <label>Exp√©rience</label>
                            <div class="value" id="dashboardExp">0%</div>
                        </div>
                        <div class="info-box">
                            <label>Sant√©</label>
                            <div class="value" id="dashboardHealth">100%</div>
                        </div>
                    </div>
                </div>

                <h2 class="page-title">Statistiques Globales</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Jours Servis</h4>
                        <div class="value" id="daysServed">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Missions</h4>
                        <div class="value" id="missionsCompleted">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Combats</h4>
                        <div class="value" id="combatsParticipated">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Blessures</h4>
                        <div class="value" id="totalWounds">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Promotions</h4>
                        <div class="value" id="totalPromotions">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>D√©corations</h4>
                        <div class="value" id="totalDecorations">0</div>
                    </div>
                </div>

                <h2 class="page-title">Actions Rapides</h2>
                <div class="actions-grid">
                    <div class="action-card" onclick="advanceDay()">
                        <h3>‚è≠Ô∏è Jour Suivant</h3>
                        <p>Avancez d'un jour dans la simulation</p>
                        <div class="effect">+1 jour</div>
                    </div>
                    <div class="action-card" onclick="advanceMonth()">
                        <h3>üìÖ Mois Suivant</h3>
                        <p>Avancez d'un mois</p>
                        <div class="effect">+30 jours</div>
                    </div>
                    <div class="action-card" onclick="saveGame()">
                        <h3>üíæ Sauvegarder</h3>
                        <p>Enregistrez votre progression</p>
                        <div class="effect">Sauvegarde automatique</div>
                    </div>
                </div>

                <h2 class="page-title">√âv√©nements R√©cents</h2>
                <div id="recentEvents" style="margin-top: 20px;">
                    <p style="color: #b0b0b0;">Aucun √©v√©nement pour le moment</p>
                </div>
            </div>

            <!-- ACTIONS PAGE -->
            <div id="actions" class="page">
                <div class="header">
                    <h1>Actions Quotidiennes</h1>
                    <p>Vous pouvez effectuer 2 actions par jour. Actions restantes: <span id="actionsRemaining">2</span></p>
                </div>
                <h2 class="page-title">Activit√©s Disponibles</h2>
                <div class="actions-grid">
                    <div class="action-card" onclick="performAction('patrol')">
                        <h3>üö∂ Patrouille</h3>
                        <p>Effectuez une patrouille de routine avec votre unit√©</p>
                        <div class="effect">+Tactique, +Survie, +50 XP</div>
                    </div>
                    <div class="action-card" onclick="performAction('training')">
                        <h3>üí™ Entra√Ænement Physique</h3>
                        <p>Entra√Ænement intensif au combat rapproch√©</p>
                        <div class="effect">+Force, +M√™l√©e, +75 XP</div>
                    </div>
                    <div class="action-card" onclick="performAction('shooting')">
                        <h3>üéØ Tir √† la Cible</h3>
                        <p>Am√©liorer votre pr√©cision au tir</p>
                        <div class="effect">+Tir, +Pr√©cision, +75 XP</div>
                    </div>
                    <div class="action-card" onclick="performAction('study')">
                        <h3>üìö √âtude Tactique</h3>
                        <p>√âtudier les manuels militaires et la strat√©gie</p>
                        <div class="effect">+Tactique, +Leadership, +100 XP</div>
                    </div>
                    <div class="action-card" onclick="performAction('inspection')">
                        <h3>üîç Inspection des Troupes</h3>
                        <p>Inspecter et diriger les soldats sous votre commandement</p>
                        <div class="effect">+Leadership, +Discipline, +60 XP</div>
                    </div>
                    <div class="action-card" onclick="performAction('rest')">
                        <h3>üò¥ Repos et R√©cup√©ration</h3>
                        <p>Se reposer et r√©cup√©rer des blessures</p>
                        <div class="effect">+Sant√©, -Stress, +30 XP</div>
                    </div>
                    <div class="action-card" onclick="performAction('maintenance')">
                        <h3>üîß Maintenance d'√âquipement</h3>
                        <p>Entretenir les armes et l'√©quipement</p>
                        <div class="effect">+M√©canique, +Technique, +50 XP</div>
                    </div>
                    <div class="action-card" onclick="performAction('socializing')">
                        <h3>üç∫ Socialisation</h3>
                        <p>Passer du temps avec les officiers et soldats</p>
                        <div class="effect">+Moral, +Relations, +40 XP</div>
                    </div>
                </div>
            </div>

            <!-- MISSIONS PAGE -->
            <div id="missions" class="page">
                <div class="header">
                    <h1>Missions Disponibles</h1>
                    <p>Acceptez des missions pour gagner de l'exp√©rience et des r√©compenses</p>
                </div>
                <h2 class="page-title">Missions Actives</h2>
                <div id="missionsList" style="margin-top: 20px;">
                    <div class="action-card">
                        <h3>üéØ Reconnaissance A√©rienne</h3>
                        <p>Effectuer une mission de reconnaissance au-dessus du secteur assign√©. Dur√©e estim√©e: 3 jours</p>
                        <p style="color: #d4af37; margin-top: 10px;">R√©compense: +500 XP, +100 Prestige, Croix de Fer possible</p>
                        <button class="btn" style="margin-top: 10px;" onclick="acceptMission('reconnaissance')">Accepter</button>
                    </div>
                    <div class="action-card">
                        <h3>üõ°Ô∏è Patrouille D√©fensive</h3>
                        <p>Patrouiller et d√©fendre les positions contre les infiltrations ennemies. Dur√©e estim√©e: 2 jours</p>
                        <p style="color: #d4af37; margin-top: 10px;">R√©compense: +300 XP, +50 Prestige</p>
                        <button class="btn" style="margin-top: 10px;" onclick="acceptMission('patrol')">Accepter</button>
                    </div>
                    <div class="action-card">
                        <h3>‚öîÔ∏è Raid Nocturne</h3>
                        <p>Participer √† un raid nocturne contre les positions ennemies. Dur√©e estim√©e: 1 jour. DANGEREUX</p>
                        <p style="color: #d4af37; margin-top: 10px;">R√©compense: +700 XP, +150 Prestige, Risque de blessure</p>
                        <button class="btn" style="margin-top: 10px;" onclick="acceptMission('raid')">Accepter</button>
                    </div>
                </div>
            </div>

            <!-- COMBAT PAGE -->
            <div id="combat" class="page">
                <div class="header">
                    <h1>Syst√®me de Combat</h1>
                    <p>Engagez-vous dans des combats r√©alistes et tactiques</p>
                </div>
                <h2 class="page-title">Combats Disponibles</h2>
                <div class="actions-grid">
                    <div class="action-card" onclick="startCombat('skirmish')">
                        <h3>üî´ Escarmouche</h3>
                        <p>Combat l√©ger contre une patrouille ennemie</p>
                        <div class="effect">Risque: Faible, R√©compense: +200 XP</div>
                    </div>
                    <div class="action-card" onclick="startCombat('ambush')">
                        <h3>üí£ Embuscade</h3>
                        <p>Participer √† une embuscade coordonn√©e</p>
                        <div class="effect">Risque: Moyen, R√©compense: +400 XP</div>
                    </div>
                    <div class="action-card" onclick="startCombat('assault')">
                        <h3>‚ö° Assaut Frontal</h3>
                        <p>Assaut direct contre une position ennemie fortifi√©e</p>
                        <div class="effect">Risque: TR√àS √âLEV√â, R√©compense: +600 XP</div>
                    </div>
                </div>
            </div>

            <!-- CAREER PAGE -->
            <div id="career" class="page">
                <div class="header">
                    <h1>Carri√®re Militaire</h1>
                    <p>Suivi de votre progression et de vos promotions</p>
                </div>
                <h2 class="page-title">Rang Actuel</h2>
                <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px; margin-bottom: 30px;">
                    <h3 id="currentRankDisplay" style="color: #d4af37; margin-bottom: 10px;">-</h3>
                    <p id="rankDescription" style="color: #b0b0b0; margin-bottom: 10px;">-</p>
                    <div class="skill-bar">
                        <div class="skill-progress" id="rankProgressBar" style="width: 0%;"><span id="rankPercentage">0%</span></div>
                    </div>
                    <p style="color: #b0b0b0; margin-top: 10px; font-size: 12px;">Exp√©rience: <span id="rankXP">0</span> / <span id="rankXPRequired">1000</span></p>
                </div>

                <h2 class="page-title">Historique des Promotions</h2>
                <div id="promotionsList" style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                    <p style="color: #b0b0b0;">Aucune promotion pour le moment</p>
                </div>
            </div>

            <!-- SKILLS PAGE -->
            <div id="skills" class="page">
                <div class="header">
                    <h1>Comp√©tences</h1>
                    <p>Am√©liorez vos comp√©tences militaires</p>
                </div>
                <h2 class="page-title">Comp√©tences de Combat</h2>
                <div class="actions-grid">
                    <div style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #d4af37; margin-bottom: 10px;">üéØ Tir</h3>
                        <div class="skill-bar"><div class="skill-progress" id="skillShooting" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 12px;" id="skillShootingLevel">Novice (0/100)</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #d4af37; margin-bottom: 10px;">‚öîÔ∏è M√™l√©e</h3>
                        <div class="skill-bar"><div class="skill-progress" id="skillMelee" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 12px;" id="skillMeleeLevel">Novice (0/100)</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #d4af37; margin-bottom: 10px;">‚öôÔ∏è Tactique</h3>
                        <div class="skill-bar"><div class="skill-progress" id="skillTactics" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 12px;" id="skillTacticsLevel">Novice (0/100)</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #d4af37; margin-bottom: 10px;">üë• Leadership</h3>
                        <div class="skill-bar"><div class="skill-progress" id="skillLeadership" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 12px;" id="skillLeadershipLevel">Novice (0/100)</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #d4af37; margin-bottom: 10px;">üèïÔ∏è Survie</h3>
                        <div class="skill-bar"><div class="skill-progress" id="skillSurvival" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 12px;" id="skillSurvivalLevel">Novice (0/100)</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid #d4af37; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #d4af37; margin-bottom: 10px;">üîß M√©canique</h3>
                        <div class="skill-bar"><div class="skill-progress" id="skillMechanics" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 12px;" id="skillMechanicsLevel">Novice (0/100)</div>
                    </div>
                </div>
            </div>

            <!-- DECORATIONS PAGE -->
            <div id="decorations" class="page">
                <div class="header">
                    <h1>D√©corations et M√©dailles</h1>
                    <p>Vos r√©compenses et distinctions militaires</p>
                </div>
                <h2 class="page-title">D√©corations Obtenues</h2>
                <div id="obtainedDecorations" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; margin-bottom: 30px;">
                    <p style="color: #b0b0b0; grid-column: 1/-1;">Aucune d√©coration pour le moment</p>
                </div>
                <h2 class="page-title">D√©corations Allemandes Disponibles</h2>
                <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px; margin-top: 20px;">
                    <p style="color: #e0e0e0; margin-bottom: 15px;"><strong>Croix de Fer:</strong> ü•á 1√®re Classe (plus haute distinction) | ü•à 2√®me Classe (bravoure au combat)</p>
                    <p style="color: #e0e0e0; margin-bottom: 15px;"><strong>Insigne des Bless√©s:</strong> ü©π Noir (1 blessure) | ü©π Argent (2-3 blessures) | ü©π Or (4+ blessures)</p>
                    <p style="color: #e0e0e0; margin-bottom: 15px;"><strong>M√©dailles de Service:</strong> üéñÔ∏è 4 ans | ‚≠ê 12 ans | üåü 20 ans</p>
                    <p style="color: #e0e0e0; margin-bottom: 15px;"><strong>Insignes Sp√©cialis√©s:</strong> ‚ùÑÔ∏è Front de l'Est | üåç Afrique | üöÅ Parachutiste | üè¥ Insigne de Combat Rapproch√©</p>
                </div>
            </div>

            <!-- HEALTH PAGE -->
            <div id="health" class="page">
                <div class="header">
                    <h1>√âtat Physique</h1>
                    <p>Suivi de votre sant√© et de vos blessures</p>
                </div>
                <h2 class="page-title">√âtat de Sant√© Global</h2>
                <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px; margin-bottom: 30px;">
                    <h4 style="color: #d4af37; margin-bottom: 10px;">Sant√© G√©n√©rale</h4>
                    <div class="skill-bar"><div class="skill-progress" id="globalHealth" style="width: 100%;"></div></div>
                    <div style="color: #b0b0b0; font-size: 12px;" id="globalHealthStatus">Excellent (100/100)</div>
                </div>
                <h2 class="page-title">Parties du Corps</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üó£Ô∏è T√™te</h4>
                        <div class="skill-bar"><div class="skill-progress" id="healthHead" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="healthHeadStatus">Sain</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">‚ù§Ô∏è Poitrine</h4>
                        <div class="skill-bar"><div class="skill-progress" id="healthChest" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="healthChestStatus">Sain</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">ü´Ä Abdomen</h4>
                        <div class="skill-bar"><div class="skill-progress" id="healthAbdomen" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="healthAbdomenStatus">Sain</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üí™ Bras Droit</h4>
                        <div class="skill-bar"><div class="skill-progress" id="healthArmRight" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="healthArmRightStatus">Sain</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üí™ Bras Gauche</h4>
                        <div class="skill-bar"><div class="skill-progress" id="healthArmLeft" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="healthArmLeftStatus">Sain</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">ü¶µ Jambe Droite</h4>
                        <div class="skill-bar"><div class="skill-progress" id="healthLegRight" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="healthLegRightStatus">Sain</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">ü¶µ Jambe Gauche</h4>
                        <div class="skill-bar"><div class="skill-progress" id="healthLegLeft" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="healthLegLeftStatus">Sain</div>
                    </div>
                </div>
            </div>

            <!-- MENTAL PAGE -->
            <div id="mental" class="page">
                <div class="header">
                    <h1>√âtat Mental</h1>
                    <p>Suivi de votre bien-√™tre psychologique</p>
                </div>
                <h2 class="page-title">Indicateurs Psychologiques</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üòä Moral</h4>
                        <div class="skill-bar"><div class="skill-progress" id="mentalMoral" style="width: 100%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="mentalMoralLevel">Excellent (100/100)</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üò∞ Stress</h4>
                        <div class="skill-bar"><div class="skill-progress" id="mentalStress" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="mentalStressLevel">Faible (0/100)</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üí™ R√©silience</h4>
                        <div class="skill-bar"><div class="skill-progress" id="mentalResilience" style="width: 50%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="mentalResilienceLevel">Moyen (50/100)</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üéØ D√©termination</h4>
                        <div class="skill-bar"><div class="skill-progress" id="mentalDetermination" style="width: 75%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="mentalDeterminationLevel">Bon (75/100)</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">ü§ù Loyaut√©</h4>
                        <div class="skill-bar"><div class="skill-progress" id="mentalLoyalty" style="width: 80%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="mentalLoyaltyLevel">Tr√®s Bonne (80/100)</div>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px;">
                        <h4 style="color: #d4af37;">üòî D√©pression</h4>
                        <div class="skill-bar"><div class="skill-progress" id="mentalDepression" style="width: 0%;"></div></div>
                        <div style="color: #b0b0b0; font-size: 11px;" id="mentalDepressionLevel">Aucune (0/100)</div>
                    </div>
                </div>
            </div>

            <!-- JOURNAL PAGE -->
            <div id="journal" class="page">
                <div class="header">
                    <h1>Journal de Marche</h1>
                    <p>Historique de vos √©v√©nements et actions</p>
                </div>
                <h2 class="page-title">Entr√©es du Journal</h2>
                <div id="journalEntries" style="margin-top: 20px;">
                    <p style="color: #b0b0b0;">Aucune entr√©e pour le moment</p>
                </div>
            </div>

            <!-- STATS PAGE -->
            <div id="stats" class="page">
                <div class="header">
                    <h1>Statistiques D√©taill√©es</h1>
                    <p>Aper√ßu complet de votre progression</p>
                </div>
                <h2 class="page-title">Statistiques de Carri√®re</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Ann√©es de Service</h4>
                        <div class="value" id="yearsOfService">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Exp√©rience Totale</h4>
                        <div class="value" id="totalXP">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Prestige</h4>
                        <div class="value" id="totalPrestige">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Rang Actuel</h4>
                        <div class="value" id="currentRankStat">-</div>
                    </div>
                </div>
                <h2 class="page-title">Statistiques de Combat</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Ennemis √âlimin√©s</h4>
                        <div class="value" id="enemiesKilled">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Taux de Survie</h4>
                        <div class="value" id="survivalRate">100%</div>
                    </div>
                    <div class="stat-box">
                        <h4>Blessures Graves</h4>
                        <div class="value" id="severeWounds">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Cicatrices</h4>
                        <div class="value" id="scars">0</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Titre</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">Contenu du modal</div>
            <div class="modal-footer">
                <button class="btn" onclick="closeModal()">Fermer</button>
                <button class="btn btn-primary" id="modalAction" style="display: none;" onclick="executeModalAction()">Confirmer</button>
            </div>
        </div>
    </div>

    <script>
        // GAME STATE
        let gameState = {
            player: {
                name: '', birthDate: '', region: '', education: '', branch: '', specialization: '', notes: '',
                currentRank: 0, experience: 0, prestige: 0, health: 100, moral: 100, stress: 0,
                daysServed: 0, missionsCompleted: 0, combatsParticipated: 0, totalWounds: 0, totalPromotions: 0,
                decorations: [], skills: { shooting: 0, melee: 0, tactics: 0, leadership: 0, survival: 0, mechanics: 0 },
                health_parts: { head: 100, chest: 100, abdomen: 100, armRight: 100, armLeft: 100, legRight: 100, legLeft: 100 },
                mental: { moral: 100, stress: 0, resilience: 50, determination: 75, loyalty: 80, depression: 0 },
                promotionHistory: [], journalEntries: []
            },
            gameStarted: false, currentDate: new Date(1933, 0, 30), actionsToday: 0
        };

        const RANKS = ['Sch√ºtze', 'Obergefreiter', 'Unteroffizier', 'Feldwebel', 'Oberfeldwebel', 'Leutnant', 'Oberleutnant', 'Hauptmann', 'Major', 'Oberst'];
        const HISTORICAL_EVENTS = {
            '1933-01-30': 'Prise de pouvoir d\'Hitler',
            '1939-09-01': 'Invasion de la Pologne - D√©but de la Seconde Guerre mondiale',
            '1940-05-10': 'Campagne de l\'Ouest - Invasion de la France',
            '1941-06-22': 'Op√©ration Barbarossa - Invasion de l\'URSS',
            '1942-10-23': 'Bataille d\'El Alamein',
            '1943-02-02': 'Capitulation de Stalingrad',
            '1944-06-06': 'D√©barquement de Normandie',
            '1945-05-08': 'Capitulation de l\'Allemagne'
        };

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-button').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            if (pageId === 'dashboard' && gameState.gameStarted) updateDashboard();
        }

        function startGame() {
            const name = document.getElementById('playerName').value;
            if (!name) { alert('Veuillez entrer un nom'); return; }
            gameState.player.name = name;
            gameState.player.birthDate = document.getElementById('birthDate').value;
            gameState.player.region = document.getElementById('region').value;
            gameState.player.education = document.getElementById('education').value;
            gameState.player.branch = document.getElementById('branch').value;
            gameState.player.specialization = document.getElementById('specialization').value;
            gameState.player.notes = document.getElementById('notes').value;
            gameState.gameStarted = true;
            gameState.currentDate = new Date(1933, 0, 30);
            gameState.player.currentRank = 0;
            addJournalEntry('D√©but de la simulation - Vous √™tes recrut√© dans l\'arm√©e allemande');
            updateDashboard();
            showPage('dashboard');
            saveGame();
        }

        function updateDashboard() {
            document.getElementById('dashboardName').textContent = gameState.player.name;
            document.getElementById('dashboardRank').textContent = RANKS[gameState.player.currentRank] || '-';
            document.getElementById('dashboardBranch').textContent = gameState.player.branch.toUpperCase();
            document.getElementById('dashboardDate').textContent = gameState.currentDate.toLocaleDateString('fr-FR');
            document.getElementById('dashboardHealth').textContent = gameState.player.health + '%';
            document.getElementById('daysServed').textContent = gameState.player.daysServed;
            document.getElementById('missionsCompleted').textContent = gameState.player.missionsCompleted;
            document.getElementById('combatsParticipated').textContent = gameState.player.combatsParticipated;
            document.getElementById('totalWounds').textContent = gameState.player.totalWounds;
            document.getElementById('totalPromotions').textContent = gameState.player.totalPromotions;
            document.getElementById('totalDecorations').textContent = gameState.player.decorations.length;
            updateSkillsPage();
            updateHealthPage();
            updateMentalPage();
        }

        function advanceDay() {
            gameState.currentDate.setDate(gameState.currentDate.getDate() + 1);
            gameState.player.daysServed += 1;
            gameState.player.experience += Math.random() * 10;
            gameState.player.mental.stress += Math.random() * 5;
            if (gameState.player.mental.stress > 100) gameState.player.mental.stress = 100;
            gameState.player.mental.moral -= Math.random() * 2;
            if (gameState.player.mental.moral < 0) gameState.player.mental.moral = 0;
            gameState.actionsToday = 0;
            checkPromotion();
            checkHistoricalEvent();
            updateDashboard();
            saveGame();
        }

        function advanceMonth() {
            for (let i = 0; i < 30; i++) advanceDay();
        }

        function performAction(action) {
            if (gameState.actionsToday >= 2) {
                showModal('Limite d\'actions', 'Vous ne pouvez effectuer que 2 actions par jour.');
                return;
            }
            const actions = {
                patrol: { xp: 50, skills: ['tactics', 'survival'], moral: 10, stress: -5 },
                training: { xp: 75, skills: ['melee'], moral: 5, stress: 10 },
                shooting: { xp: 75, skills: ['shooting'], moral: 5, stress: 10 },
                study: { xp: 100, skills: ['tactics', 'leadership'], moral: 0, stress: 15 },
                inspection: { xp: 60, skills: ['leadership'], moral: 20, stress: 5 },
                rest: { xp: 20, skills: [], moral: 30, stress: -20, health: 20 },
                maintenance: { xp: 50, skills: ['mechanics'], moral: 5, stress: 0 },
                socializing: { xp: 40, skills: ['leadership'], moral: 40, stress: -10 }
            };
            const act = actions[action];
            if (!act) return;
            gameState.player.experience += act.xp;
            gameState.player.mental.moral += act.moral;
            gameState.player.mental.stress += act.stress;
            if (gameState.player.health < 100 && act.health) gameState.player.health += act.health;
            if (gameState.player.mental.moral > 100) gameState.player.mental.moral = 100;
            if (gameState.player.mental.stress > 100) gameState.player.mental.stress = 100;
            if (gameState.player.health > 100) gameState.player.health = 100;
            act.skills.forEach(skill => {
                gameState.player.skills[skill] += Math.random() * 5;
                if (gameState.player.skills[skill] > 100) gameState.player.skills[skill] = 100;
            });
            gameState.actionsToday++;
            document.getElementById('actionsRemaining').textContent = 2 - gameState.actionsToday;
            advanceDay();
            showModal('Action Effectu√©e', `Vous avez effectu√© l'action avec succ√®s! +${act.xp} XP`);
        }

        function acceptMission(missionType) {
            const missions = {
                reconnaissance: { xp: 500, prestige: 100, name: 'Reconnaissance A√©rienne', days: 3 },
                patrol: { xp: 300, prestige: 50, name: 'Patrouille D√©fensive', days: 2 },
                raid: { xp: 700, prestige: 150, name: 'Raid Nocturne', days: 1 }
            };
            const mission = missions[missionType];
            if (!mission) return;
            gameState.player.experience += mission.xp;
            gameState.player.prestige += mission.prestige;
            gameState.player.missionsCompleted += 1;
            for (let i = 0; i < mission.days; i++) advanceDay();
            addJournalEntry(`Mission compl√©t√©e: ${mission.name}`);
            showModal('Mission Accept√©e', `Mission: ${mission.name}\n+${mission.xp} XP, +${mission.prestige} Prestige`);
        }

        function startCombat(combatType) {
            const combats = {
                skirmish: { xp: 200, risk: 'Faible', name: 'Escarmouche' },
                ambush: { xp: 400, risk: 'Moyen', name: 'Embuscade' },
                assault: { xp: 600, risk: 'TR√àS √âLEV√â', name: 'Assaut Frontal' }
            };
            const combat = combats[combatType];
            if (!combat) return;
            const success = Math.random() > 0.3;
            if (success) {
                gameState.player.experience += combat.xp;
                gameState.player.combatsParticipated += 1;
                addJournalEntry(`Combat: ${combat.name} - Victoire!`);
                showModal('Combat Gagn√©', `${combat.name}\n+${combat.xp} XP\nRisque: ${combat.risk}`);
            } else {
                gameState.player.totalWounds += 1;
                gameState.player.health -= Math.random() * 30;
                addJournalEntry(`Combat: ${combat.name} - D√©faite...`);
                showModal('Combat Perdu', `${combat.name}\nVous avez √©t√© bless√©!\nSant√©: ${gameState.player.health}%`);
            }
            advanceDay();
        }

        function checkPromotion() {
            const nextRankXP = (gameState.player.currentRank + 1) * 1000;
            if (gameState.player.experience >= nextRankXP && gameState.player.currentRank < RANKS.length - 1) {
                gameState.player.currentRank += 1;
                gameState.player.totalPromotions += 1;
                addJournalEntry(`Promotion √† ${RANKS[gameState.player.currentRank]}!`);
                showModal('Promotion!', `Vous √™tes promu √† ${RANKS[gameState.player.currentRank]}!`);
            }
        }

        function checkHistoricalEvent() {
            const dateStr = gameState.currentDate.toISOString().split('T')[0];
            if (HISTORICAL_EVENTS[dateStr]) {
                addJournalEntry(`√âv√©nement Historique: ${HISTORICAL_EVENTS[dateStr]}`);
            }
        }

        function updateSkillsPage() {
            document.getElementById('skillShooting').style.width = gameState.player.skills.shooting + '%';
            document.getElementById('skillShootingLevel').textContent = `${getSkillLevel(gameState.player.skills.shooting)} (${Math.floor(gameState.player.skills.shooting)}/100)`;
            document.getElementById('skillMelee').style.width = gameState.player.skills.melee + '%';
            document.getElementById('skillMeleeLevel').textContent = `${getSkillLevel(gameState.player.skills.melee)} (${Math.floor(gameState.player.skills.melee)}/100)`;
            document.getElementById('skillTactics').style.width = gameState.player.skills.tactics + '%';
            document.getElementById('skillTacticsLevel').textContent = `${getSkillLevel(gameState.player.skills.tactics)} (${Math.floor(gameState.player.skills.tactics)}/100)`;
            document.getElementById('skillLeadership').style.width = gameState.player.skills.leadership + '%';
            document.getElementById('skillLeadershipLevel').textContent = `${getSkillLevel(gameState.player.skills.leadership)} (${Math.floor(gameState.player.skills.leadership)}/100)`;
            document.getElementById('skillSurvival').style.width = gameState.player.skills.survival + '%';
            document.getElementById('skillSurvivalLevel').textContent = `${getSkillLevel(gameState.player.skills.survival)} (${Math.floor(gameState.player.skills.survival)}/100)`;
            document.getElementById('skillMechanics').style.width = gameState.player.skills.mechanics + '%';
            document.getElementById('skillMechanicsLevel').textContent = `${getSkillLevel(gameState.player.skills.mechanics)} (${Math.floor(gameState.player.skills.mechanics)}/100)`;
        }

        function updateHealthPage() {
            document.getElementById('globalHealth').style.width = gameState.player.health + '%';
            document.getElementById('globalHealthStatus').textContent = `${getHealthStatus(gameState.player.health)} (${Math.floor(gameState.player.health)}/100)`;
            document.getElementById('healthHead').style.width = gameState.player.health_parts.head + '%';
            document.getElementById('healthHeadStatus').textContent = gameState.player.health_parts.head > 75 ? 'Sain' : gameState.player.health_parts.head > 25 ? 'Bless√©' : 'Critique';
            document.getElementById('healthChest').style.width = gameState.player.health_parts.chest + '%';
            document.getElementById('healthChestStatus').textContent = gameState.player.health_parts.chest > 75 ? 'Sain' : gameState.player.health_parts.chest > 25 ? 'Bless√©' : 'Critique';
            document.getElementById('healthAbdomen').style.width = gameState.player.health_parts.abdomen + '%';
            document.getElementById('healthAbdomenStatus').textContent = gameState.player.health_parts.abdomen > 75 ? 'Sain' : gameState.player.health_parts.abdomen > 25 ? 'Bless√©' : 'Critique';
            document.getElementById('healthArmRight').style.width = gameState.player.health_parts.armRight + '%';
            document.getElementById('healthArmRightStatus').textContent = gameState.player.health_parts.armRight > 75 ? 'Sain' : gameState.player.health_parts.armRight > 25 ? 'Bless√©' : 'Critique';
            document.getElementById('healthArmLeft').style.width = gameState.player.health_parts.armLeft + '%';
            document.getElementById('healthArmLeftStatus').textContent = gameState.player.health_parts.armLeft > 75 ? 'Sain' : gameState.player.health_parts.armLeft > 25 ? 'Bless√©' : 'Critique';
            document.getElementById('healthLegRight').style.width = gameState.player.health_parts.legRight + '%';
            document.getElementById('healthLegRightStatus').textContent = gameState.player.health_parts.legRight > 75 ? 'Sain' : gameState.player.health_parts.legRight > 25 ? 'Bless√©' : 'Critique';
            document.getElementById('healthLegLeft').style.width = gameState.player.health_parts.legLeft + '%';
            document.getElementById('healthLegLeftStatus').textContent = gameState.player.health_parts.legLeft > 75 ? 'Sain' : gameState.player.health_parts.legLeft > 25 ? 'Bless√©' : 'Critique';
        }

        function updateMentalPage() {
            document.getElementById('mentalMoral').style.width = gameState.player.mental.moral + '%';
            document.getElementById('mentalMoralLevel').textContent = `${getMentalLevel(gameState.player.mental.moral)} (${Math.floor(gameState.player.mental.moral)}/100)`;
            document.getElementById('mentalStress').style.width = gameState.player.mental.stress + '%';
            document.getElementById('mentalStressLevel').textContent = `${getMentalLevel(gameState.player.mental.stress)} (${Math.floor(gameState.player.mental.stress)}/100)`;
            document.getElementById('mentalResilience').style.width = gameState.player.mental.resilience + '%';
            document.getElementById('mentalResilienceLevel').textContent = `${getMentalLevel(gameState.player.mental.resilience)} (${Math.floor(gameState.player.mental.resilience)}/100)`;
            document.getElementById('mentalDetermination').style.width = gameState.player.mental.determination + '%';
            document.getElementById('mentalDeterminationLevel').textContent = `${getMentalLevel(gameState.player.mental.determination)} (${Math.floor(gameState.player.mental.determination)}/100)`;
            document.getElementById('mentalLoyalty').style.width = gameState.player.mental.loyalty + '%';
            document.getElementById('mentalLoyaltyLevel').textContent = `${getMentalLevel(gameState.player.mental.loyalty)} (${Math.floor(gameState.player.mental.loyalty)}/100)`;
            document.getElementById('mentalDepression').style.width = gameState.player.mental.depression + '%';
            document.getElementById('mentalDepressionLevel').textContent = `${getMentalLevel(gameState.player.mental.depression)} (${Math.floor(gameState.player.mental.depression)}/100)`;
        }

        function getSkillLevel(value) {
            if (value < 20) return 'Novice';
            if (value < 40) return 'Apprenti';
            if (value < 60) return 'Comp√©tent';
            if (value < 80) return 'Expert';
            return 'Ma√Ætre';
        }

        function getHealthStatus(value) {
            if (value > 75) return 'Excellent';
            if (value > 50) return 'Bon';
            if (value > 25) return 'Bless√©';
            return 'Critique';
        }

        function getMentalLevel(value) {
            if (value < 20) return 'Tr√®s Faible';
            if (value < 40) return 'Faible';
            if (value < 60) return 'Moyen';
            if (value < 80) return 'Bon';
            return 'Excellent';
        }

        function addJournalEntry(content) {
            gameState.player.journalEntries.push({ date: gameState.currentDate.toLocaleDateString('fr-FR'), content });
            const journalEntries = document.getElementById('journalEntries');
            journalEntries.innerHTML = gameState.player.journalEntries.slice(-10).reverse().map(e => `
                <div class="journal-entry">
                    <div class="date">${e.date}</div>
                    <div class="content">${e.content}</div>
                </div>
            `).join('');
        }

        function showModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function executeModalAction() {
            closeModal();
        }

        function saveGame() {
            localStorage.setItem('eisernesKreuzSave_final', JSON.stringify(gameState));
        }

        function loadGame() {
            const saved = localStorage.getItem('eisernesKreuzSave_final');
            if (saved) {
                gameState = JSON.parse(saved);
                gameState.currentDate = new Date(gameState.currentDate);
                gameState.gameStarted = true;
                updateDashboard();
                showPage('dashboard');
                document.querySelectorAll('.nav-button')[1].classList.add('active');
            } else {
                alert('Aucune sauvegarde trouv√©e');
            }
        }

        function resetGame() {
            if (confirm('√ätes-vous s√ªr de vouloir recommencer?')) {
                localStorage.removeItem('eisernesKreuzSave_final');
                location.reload();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('eisernesKreuzSave_final');
            if (saved) document.querySelector('button[onclick="loadGame()"]').style.display = 'block';
        });
    </script>
</body>
</html>

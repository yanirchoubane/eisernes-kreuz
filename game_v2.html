<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eisernes Kreuz - Simulation Totale</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e0e0e0;
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* SIDEBAR NAVIGATION */
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, #0d0d0d 0%, #1a1a1a 100%);
            border-right: 3px solid #d4af37;
            padding: 20px;
            overflow-y: auto;
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            z-index: 1000;
        }

        .sidebar h1 {
            color: #d4af37;
            font-size: 18px;
            margin-bottom: 30px;
            text-align: center;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 15px;
        }

        .nav-section {
            margin-bottom: 25px;
        }

        .nav-section h3 {
            color: #d4af37;
            font-size: 12px;
            text-transform: uppercase;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .nav-button {
            width: 100%;
            padding: 12px;
            margin-bottom: 8px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid #d4af37;
            color: #e0e0e0;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-size: 14px;
            text-align: left;
        }

        .nav-button:hover {
            background: rgba(212, 175, 55, 0.3);
            transform: translateX(5px);
        }

        .nav-button.active {
            background: #d4af37;
            color: #0d0d0d;
            font-weight: bold;
        }

        /* MAIN CONTENT */
        .main-content {
            margin-left: 250px;
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .header {
            background: linear-gradient(90deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border: 2px solid #d4af37;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }

        .header h1 {
            color: #d4af37;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .player-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .info-box {
            background: rgba(212, 175, 55, 0.05);
            border-left: 3px solid #d4af37;
            padding: 15px;
            border-radius: 4px;
        }

        .info-box label {
            color: #d4af37;
            font-weight: bold;
            font-size: 12px;
            text-transform: uppercase;
            display: block;
            margin-bottom: 5px;
        }

        .info-box .value {
            color: #e0e0e0;
            font-size: 16px;
        }

        /* PAGES */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .page-title {
            color: #d4af37;
            font-size: 28px;
            margin-bottom: 20px;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 10px;
        }

        /* CREATION PAGE */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #d4af37;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            background: rgba(212, 175, 55, 0.05);
            border: 1px solid #d4af37;
            color: #e0e0e0;
            border-radius: 4px;
            font-family: inherit;
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            background: rgba(212, 175, 55, 0.15);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        /* BUTTONS */
        .btn {
            padding: 12px 24px;
            border: 2px solid #d4af37;
            background: rgba(212, 175, 55, 0.1);
            color: #d4af37;
            cursor: pointer;
            border-radius: 4px;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background: #d4af37;
            color: #0d0d0d;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .btn-primary {
            background: #d4af37;
            color: #0d0d0d;
            border-color: #d4af37;
        }

        .btn-primary:hover {
            background: #e0c158;
            border-color: #e0c158;
        }

        .btn-danger {
            border-color: #d32f2f;
            color: #d32f2f;
            background: rgba(211, 47, 47, 0.1);
        }

        .btn-danger:hover {
            background: #d32f2f;
            color: #fff;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        /* DAILY ACTIONS PAGE */
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .action-card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border: 2px solid #d4af37;
            padding: 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-card:hover {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(212, 175, 55, 0.1) 100%);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.2);
        }

        .action-card h3 {
            color: #d4af37;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .action-card p {
            color: #b0b0b0;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .action-card .effect {
            color: #4caf50;
            font-size: 12px;
            font-weight: bold;
        }

        /* CAREER PAGE */
        .career-section {
            margin-bottom: 30px;
        }

        .rank-display {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(212, 175, 55, 0.05) 100%);
            border: 2px solid #d4af37;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .rank-display h3 {
            color: #d4af37;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .rank-bar {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #d4af37;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .rank-progress {
            height: 100%;
            background: linear-gradient(90deg, #d4af37 0%, #e0c158 100%);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0d0d0d;
            font-weight: bold;
            font-size: 12px;
        }

        .promotions-list {
            background: rgba(212, 175, 55, 0.05);
            border: 1px solid #d4af37;
            border-radius: 4px;
            padding: 15px;
        }

        .promotion-item {
            padding: 10px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            color: #e0e0e0;
        }

        .promotion-item:last-child {
            border-bottom: none;
        }

        .promotion-item .date {
            color: #d4af37;
            font-weight: bold;
            font-size: 12px;
        }

        /* DECORATIONS PAGE */
        .decorations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .decoration-card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border: 2px solid #d4af37;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .decoration-card:hover {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(212, 175, 55, 0.1) 100%);
            transform: scale(1.05);
        }

        .decoration-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .decoration-card h4 {
            color: #d4af37;
            font-size: 13px;
            margin-bottom: 5px;
        }

        .decoration-card p {
            color: #b0b0b0;
            font-size: 11px;
        }

        /* SKILLS PAGE */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .skill-card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border: 2px solid #d4af37;
            padding: 20px;
            border-radius: 8px;
        }

        .skill-card h3 {
            color: #d4af37;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .skill-bar {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #d4af37;
            height: 25px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .skill-progress {
            height: 100%;
            background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: bold;
            font-size: 11px;
        }

        .skill-level {
            color: #b0b0b0;
            font-size: 12px;
        }

        /* HEALTH PAGE */
        .health-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .body-part {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border: 2px solid #d4af37;
            padding: 15px;
            border-radius: 8px;
        }

        .body-part h4 {
            color: #d4af37;
            margin-bottom: 10px;
        }

        .health-bar {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #d4af37;
            height: 20px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);
            width: 100%;
            transition: width 0.3s ease;
        }

        .health-fill.injured {
            background: linear-gradient(90deg, #ff9800 0%, #f57c00 100%);
        }

        .health-fill.critical {
            background: linear-gradient(90deg, #d32f2f 0%, #c62828 100%);
        }

        .health-status {
            color: #b0b0b0;
            font-size: 11px;
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 3px solid #d4af37;
            padding: 30px;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 15px;
        }

        .modal-header h2 {
            color: #d4af37;
            font-size: 24px;
        }

        .close-btn {
            background: none;
            border: none;
            color: #d4af37;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #e0c158;
            transform: scale(1.2);
        }

        .modal-body {
            color: #e0e0e0;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .modal-body h3 {
            color: #d4af37;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        .modal-body ul {
            margin-left: 20px;
            margin-bottom: 10px;
        }

        .modal-body li {
            margin-bottom: 5px;
        }

        .modal-footer {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* STATS PAGE */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-box {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border: 2px solid #d4af37;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-box h4 {
            color: #d4af37;
            font-size: 12px;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .stat-box .value {
            color: #e0e0e0;
            font-size: 28px;
            font-weight: bold;
        }

        /* JOURNAL */
        .journal-entry {
            background: rgba(212, 175, 55, 0.05);
            border-left: 3px solid #d4af37;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }

        .journal-entry .date {
            color: #d4af37;
            font-weight: bold;
            font-size: 12px;
            text-transform: uppercase;
        }

        .journal-entry .content {
            color: #e0e0e0;
            margin-top: 8px;
            font-style: italic;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }

            .main-content {
                margin-left: 200px;
                padding: 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .actions-grid {
                grid-template-columns: 1fr;
            }

            .player-info {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                width: 150px;
                padding: 15px;
            }

            .sidebar h1 {
                font-size: 14px;
            }

            .main-content {
                margin-left: 150px;
                padding: 15px;
            }

            .header h1 {
                font-size: 24px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- SIDEBAR -->
        <div class="sidebar">
            <h1>‚öîÔ∏è EISERNES KREUZ</h1>

            <div class="nav-section">
                <h3>Jeu</h3>
                <button class="nav-button active" onclick="showPage('creation')">Cr√©ation</button>
                <button class="nav-button" onclick="showPage('dashboard')">Tableau de Bord</button>
            </div>

            <div class="nav-section">
                <h3>Activit√©s</h3>
                <button class="nav-button" onclick="showPage('actions')">Actions Quotidiennes</button>
                <button class="nav-button" onclick="showPage('missions')">Missions</button>
                <button class="nav-button" onclick="showPage('training')">Entra√Ænement</button>
            </div>

            <div class="nav-section">
                <h3>Progression</h3>
                <button class="nav-button" onclick="showPage('career')">Carri√®re</button>
                <button class="nav-button" onclick="showPage('skills')">Comp√©tences</button>
                <button class="nav-button" onclick="showPage('decorations')">D√©corations</button>
            </div>

            <div class="nav-section">
                <h3>Sant√©</h3>
                <button class="nav-button" onclick="showPage('health')">√âtat Physique</button>
                <button class="nav-button" onclick="showPage('mental')">√âtat Mental</button>
            </div>

            <div class="nav-section">
                <h3>Autres</h3>
                <button class="nav-button" onclick="showPage('journal')">Journal</button>
                <button class="nav-button" onclick="showPage('stats')">Statistiques</button>
            </div>
        </div>

        <!-- MAIN CONTENT -->
        <div class="main-content">
            <!-- CREATION PAGE -->
            <div id="creation" class="page active">
                <div class="header">
                    <h1>Cr√©ation de Personnage</h1>
                    <p>Configurez votre officier pour commencer votre simulation</p>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Nom</label>
                        <input type="text" id="playerName" placeholder="Ex: Hauptmann Klaus Weber" value="">
                    </div>
                    <div class="form-group">
                        <label>Date de Naissance</label>
                        <input type="date" id="birthDate" value="1910-01-01">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Branche Militaire</label>
                        <select id="branch">
                            <option value="heer">Heer (Arm√©e de Terre)</option>
                            <option value="luftwaffe">Luftwaffe (Aviation)</option>
                            <option value="kriegsmarine">Kriegsmarine (Marine)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Rang Initial</label>
                        <select id="initialRank">
                            <option value="gefreiter">Gefreiter (Caporal)</option>
                            <option value="unteroffizier">Unteroffizier (Sergent)</option>
                            <option value="feldwebel">Feldwebel (Sergent-Chef)</option>
                            <option value="leutnant">Leutnant (Lieutenant)</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Parcours √âducatif</label>
                    <select id="education">
                        <option value="military">√âcole Militaire</option>
                        <option value="academy">Acad√©mie Militaire</option>
                        <option value="field">Promotion sur le Terrain</option>
                        <option value="reserve">Officier de R√©serve</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Notes Personnelles</label>
                    <textarea id="notes" placeholder="√âcrivez vos objectifs et ambitions..." rows="5"></textarea>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="startGame()">Commencer la Simulation</button>
                    <button class="btn" onclick="loadGame()">Charger une Partie</button>
                </div>
            </div>

            <!-- DASHBOARD PAGE -->
            <div id="dashboard" class="page">
                <div class="header">
                    <h1 id="dashboardTitle">Tableau de Bord</h1>
                    <div class="player-info">
                        <div class="info-box">
                            <label>Nom</label>
                            <div class="value" id="dashboardName">-</div>
                        </div>
                        <div class="info-box">
                            <label>Rang</label>
                            <div class="value" id="dashboardRank">-</div>
                        </div>
                        <div class="info-box">
                            <label>Branche</label>
                            <div class="value" id="dashboardBranch">-</div>
                        </div>
                        <div class="info-box">
                            <label>Exp√©rience</label>
                            <div class="value" id="dashboardExp">0%</div>
                        </div>
                        <div class="info-box">
                            <label>Moral</label>
                            <div class="value" id="dashboardMoral">-</div>
                        </div>
                        <div class="info-box">
                            <label>Sant√©</label>
                            <div class="value" id="dashboardHealth">-</div>
                        </div>
                    </div>
                </div>

                <h2 class="page-title">Statistiques Globales</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Jours Servis</h4>
                        <div class="value" id="daysServed">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Missions Compl√©t√©es</h4>
                        <div class="value" id="missionsCompleted">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Combats</h4>
                        <div class="value" id="combatsParticipated">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Blessures</h4>
                        <div class="value" id="totalWounds">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Promotions</h4>
                        <div class="value" id="totalPromotions">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>D√©corations</h4>
                        <div class="value" id="totalDecorations">0</div>
                    </div>
                </div>

                <h2 class="page-title">Actions Rapides</h2>
                <div class="actions-grid">
                    <div class="action-card" onclick="advanceDay()">
                        <h3>‚è≠Ô∏è Jour Suivant</h3>
                        <p>Avancez d'un jour dans la simulation</p>
                        <div class="effect">+1 jour</div>
                    </div>
                    <div class="action-card" onclick="advanceMonth()">
                        <h3>üìÖ Mois Suivant</h3>
                        <p>Avancez d'un mois</p>
                        <div class="effect">+30 jours</div>
                    </div>
                    <div class="action-card" onclick="saveGame()">
                        <h3>üíæ Sauvegarder</h3>
                        <p>Enregistrez votre progression</p>
                        <div class="effect">Sauvegarde automatique</div>
                    </div>
                </div>

                <h2 class="page-title">√âv√©nements R√©cents</h2>
                <div id="recentEvents" style="margin-top: 20px;">
                    <p style="color: #b0b0b0;">Aucun √©v√©nement pour le moment</p>
                </div>
            </div>

            <!-- ACTIONS PAGE -->
            <div id="actions" class="page">
                <div class="header">
                    <h1>Actions Quotidiennes</h1>
                    <p>Choisissez une action pour am√©liorer vos comp√©tences et votre carri√®re</p>
                </div>

                <h2 class="page-title">Activit√©s Disponibles</h2>
                <div class="actions-grid">
                    <div class="action-card" onclick="performAction('patrol')">
                        <h3>üö∂ Patrouille</h3>
                        <p>Effectuez une patrouille de routine</p>
                        <div class="effect">+Tactique, +Survie</div>
                    </div>
                    <div class="action-card" onclick="performAction('training')">
                        <h3>üí™ Entra√Ænement</h3>
                        <p>Entra√Ænement physique intensif</p>
                        <div class="effect">+Force, +Endurance</div>
                    </div>
                    <div class="action-card" onclick="performAction('study')">
                        <h3>üìö √âtude</h3>
                        <p>√âtudier les manuels militaires</p>
                        <div class="effect">+Leadership, +Tactique</div>
                    </div>
                    <div class="action-card" onclick="performAction('inspection')">
                        <h3>üîç Inspection</h3>
                        <p>Inspecter les troupes sous votre commandement</p>
                        <div class="effect">+Leadership, +Discipline</div>
                    </div>
                    <div class="action-card" onclick="performAction('rest')">
                        <h3>üò¥ Repos</h3>
                        <p>Se reposer et r√©cup√©rer</p>
                        <div class="effect">+Sant√©, -Stress</div>
                    </div>
                    <div class="action-card" onclick="performAction('socializing')">
                        <h3>üç∫ Socialisation</h3>
                        <p>Passer du temps avec les officiers</p>
                        <div class="effect">+Moral, +Relations</div>
                    </div>
                </div>
            </div>

            <!-- MISSIONS PAGE -->
            <div id="missions" class="page">
                <div class="header">
                    <h1>Missions Disponibles</h1>
                    <p>Acceptez des missions pour gagner de l'exp√©rience et des r√©compenses</p>
                </div>

                <h2 class="page-title">Missions Actives</h2>
                <div id="missionsList" style="margin-top: 20px;">
                    <div class="action-card">
                        <h3>Reconnaissance A√©rienne</h3>
                        <p>Effectuer une mission de reconnaissance au-dessus du secteur assign√©</p>
                        <p style="color: #d4af37; margin-top: 10px;">R√©compense: +500 XP, +100 Prestige</p>
                        <button class="btn" style="margin-top: 10px;" onclick="acceptMission('reconnaissance')">Accepter</button>
                    </div>
                    <div class="action-card">
                        <h3>Patrouille D√©fensive</h3>
                        <p>Patrouiller et d√©fendre les positions contre les infiltrations</p>
                        <p style="color: #d4af37; margin-top: 10px;">R√©compense: +300 XP, +50 Prestige</p>
                        <button class="btn" style="margin-top: 10px;" onclick="acceptMission('patrol')">Accepter</button>
                    </div>
                </div>
            </div>

            <!-- TRAINING PAGE -->
            <div id="training" class="page">
                <div class="header">
                    <h1>Entra√Ænement Sp√©cialis√©</h1>
                    <p>Suivez des cours pour am√©liorer vos comp√©tences</p>
                </div>

                <h2 class="page-title">Programmes d'Entra√Ænement</h2>
                <div class="actions-grid">
                    <div class="action-card" onclick="startTraining('marksmanship')">
                        <h3>üéØ Tir de Pr√©cision</h3>
                        <p>Am√©liorer votre pr√©cision au tir</p>
                        <div class="effect">+Tir, Dur√©e: 7 jours</div>
                    </div>
                    <div class="action-card" onclick="startTraining('tactics')">
                        <h3>‚öîÔ∏è Tactique Militaire</h3>
                        <p>Cours avanc√© de tactique</p>
                        <div class="effect">+Tactique, Dur√©e: 14 jours</div>
                    </div>
                    <div class="action-card" onclick="startTraining('leadership')">
                        <h3>üë• Leadership</h3>
                        <p>D√©velopper vos comp√©tences de leader</p>
                        <div class="effect">+Leadership, Dur√©e: 21 jours</div>
                    </div>
                    <div class="action-card" onclick="startTraining('survival')">
                        <h3>üèïÔ∏è Survie</h3>
                        <p>Entra√Ænement de survie en terrain hostile</p>
                        <div class="effect">+Survie, Dur√©e: 10 jours</div>
                    </div>
                </div>
            </div>

            <!-- CAREER PAGE -->
            <div id="career" class="page">
                <div class="header">
                    <h1>Carri√®re Militaire</h1>
                    <p>Suivi de votre progression et de vos promotions</p>
                </div>

                <h2 class="page-title">Rang Actuel</h2>
                <div class="rank-display">
                    <h3 id="currentRankDisplay">-</h3>
                    <p id="rankDescription">-</p>
                    <div class="rank-bar">
                        <div class="rank-progress" id="rankProgressBar" style="width: 0%;">
                            <span id="rankPercentage">0%</span>
                        </div>
                    </div>
                    <p style="color: #b0b0b0; margin-top: 10px; font-size: 12px;">Exp√©rience: <span id="rankXP">0</span> / <span id="rankXPRequired">1000</span></p>
                </div>

                <h2 class="page-title">Historique des Promotions</h2>
                <div class="promotions-list" id="promotionsList">
                    <p style="color: #b0b0b0;">Aucune promotion pour le moment</p>
                </div>

                <h2 class="page-title">Grades Disponibles</h2>
                <div style="background: rgba(212, 175, 55, 0.05); border: 1px solid #d4af37; border-radius: 4px; padding: 15px; margin-top: 20px;">
                    <p style="color: #e0e0e0; margin-bottom: 10px;">Hi√©rarchie Heer (Arm√©e de Terre):</p>
                    <ul style="color: #b0b0b0; margin-left: 20px;">
                        <li>Gefreiter (Caporal)</li>
                        <li>Unteroffizier (Sergent)</li>
                        <li>Feldwebel (Sergent-Chef)</li>
                        <li>Oberfeldwebel (Adjudant)</li>
                        <li>Stabsfeldwebel (Adjudant-Chef)</li>
                        <li>Leutnant (Lieutenant)</li>
                        <li>Oberleutnant (Capitaine)</li>
                        <li>Hauptmann (Commandant)</li>
                        <li>Major (Commandant)</li>
                        <li>Oberstleutnant (Lieutenant-Colonel)</li>
                        <li>Oberst (Colonel)</li>
                        <li>Generalmajor (G√©n√©ral de Brigade)</li>
                        <li>Generalleutnant (G√©n√©ral de Division)</li>
                        <li>General (G√©n√©ral)</li>
                    </ul>
                </div>
            </div>

            <!-- SKILLS PAGE -->
            <div id="skills" class="page">
                <div class="header">
                    <h1>Comp√©tences</h1>
                    <p>Am√©liorez vos comp√©tences militaires</p>
                </div>

                <h2 class="page-title">Comp√©tences de Combat</h2>
                <div class="skills-grid">
                    <div class="skill-card">
                        <h3>üéØ Tir</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillShooting" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillShootingLevel">Novice (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>‚öîÔ∏è M√™l√©e</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillMelee" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillMeleeLevel">Novice (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üõ°Ô∏è D√©fense</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillDefense" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillDefenseLevel">Novice (0/100)</div>
                    </div>
                </div>

                <h2 class="page-title">Comp√©tences Strat√©giques</h2>
                <div class="skills-grid">
                    <div class="skill-card">
                        <h3>‚öôÔ∏è Tactique</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillTactics" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillTacticsLevel">Novice (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üë• Leadership</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillLeadership" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillLeadershipLevel">Novice (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üß† Intelligence</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillIntelligence" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillIntelligenceLevel">Novice (0/100)</div>
                    </div>
                </div>

                <h2 class="page-title">Comp√©tences de Survie</h2>
                <div class="skills-grid">
                    <div class="skill-card">
                        <h3>üèïÔ∏è Survie</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillSurvival" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillSurvivalLevel">Novice (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üîß M√©canique</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillMechanics" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillMechanicsLevel">Novice (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üíä M√©decine</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="skillMedicine" style="width: 0%;"></div>
                        </div>
                        <div class="skill-level" id="skillMedicineLevel">Novice (0/100)</div>
                    </div>
                </div>
            </div>

            <!-- DECORATIONS PAGE -->
            <div id="decorations" class="page">
                <div class="header">
                    <h1>D√©corations et M√©dailles</h1>
                    <p>Vos r√©compenses et distinctions militaires</p>
                </div>

                <h2 class="page-title">D√©corations Obtenues</h2>
                <div class="decorations-grid" id="obtainedDecorations">
                    <p style="color: #b0b0b0; grid-column: 1/-1;">Aucune d√©coration pour le moment</p>
                </div>

                <h2 class="page-title">D√©corations Disponibles</h2>
                <div class="decorations-grid">
                    <div class="decoration-card" onclick="showDecorationInfo('iron_cross_1')">
                        <div class="decoration-icon">ü•á</div>
                        <h4>Croix de Fer 1√®re Classe</h4>
                        <p>La plus haute distinction militaire</p>
                    </div>
                    <div class="decoration-card" onclick="showDecorationInfo('iron_cross_2')">
                        <div class="decoration-icon">ü•à</div>
                        <h4>Croix de Fer 2√®me Classe</h4>
                        <p>Distinction pour bravoure</p>
                    </div>
                    <div class="decoration-card" onclick="showDecorationInfo('wound_badge')">
                        <div class="decoration-icon">ü©π</div>
                        <h4>Insigne des Bless√©s</h4>
                        <p>Pour avoir √©t√© bless√© au combat</p>
                    </div>
                    <div class="decoration-card" onclick="showDecorationInfo('service_medal')">
                        <div class="decoration-icon">üéñÔ∏è</div>
                        <h4>M√©daille de Service</h4>
                        <p>Pour 4 ans de service</p>
                    </div>
                    <div class="decoration-card" onclick="showDecorationInfo('long_service')">
                        <div class="decoration-icon">‚≠ê</div>
                        <h4>M√©daille de Longue Dur√©e</h4>
                        <p>Pour 12 ans de service</p>
                    </div>
                    <div class="decoration-card" onclick="showDecorationInfo('eastern_front')">
                        <div class="decoration-icon">‚ùÑÔ∏è</div>
                        <h4>Insigne du Front de l'Est</h4>
                        <p>Pour service sur le Front de l'Est</p>
                    </div>
                </div>
            </div>

            <!-- HEALTH PAGE -->
            <div id="health" class="page">
                <div class="header">
                    <h1>√âtat Physique</h1>
                    <p>Suivi de votre sant√© et de vos blessures</p>
                </div>

                <h2 class="page-title">√âtat de Sant√© Global</h2>
                <div class="stat-box" style="margin-bottom: 30px;">
                    <h4>Sant√© G√©n√©rale</h4>
                    <div class="health-bar">
                        <div class="health-fill" id="globalHealth" style="width: 100%;"></div>
                    </div>
                    <div class="health-status" id="globalHealthStatus">Excellent (100/100)</div>
                </div>

                <h2 class="page-title">Parties du Corps</h2>
                <div class="health-grid">
                    <div class="body-part">
                        <h4>üó£Ô∏è T√™te</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthHead" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthHeadStatus">Sain</div>
                    </div>
                    <div class="body-part">
                        <h4>üí™ Bras Droit</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthArmRight" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthArmRightStatus">Sain</div>
                    </div>
                    <div class="body-part">
                        <h4>üí™ Bras Gauche</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthArmLeft" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthArmLeftStatus">Sain</div>
                    </div>
                    <div class="body-part">
                        <h4>‚ù§Ô∏è Poitrine</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthChest" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthChestStatus">Sain</div>
                    </div>
                    <div class="body-part">
                        <h4>ü´Ä Abdomen</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthAbdomen" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthAbdomenStatus">Sain</div>
                    </div>
                    <div class="body-part">
                        <h4>ü¶µ Jambe Droite</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthLegRight" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthLegRightStatus">Sain</div>
                    </div>
                    <div class="body-part">
                        <h4>ü¶µ Jambe Gauche</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthLegLeft" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthLegLeftStatus">Sain</div>
                    </div>
                    <div class="body-part">
                        <h4>üß† Syst√®me Nerveux</h4>
                        <div class="health-bar">
                            <div class="health-fill" id="healthNervous" style="width: 100%;"></div>
                        </div>
                        <div class="health-status" id="healthNervousStatus">Sain</div>
                    </div>
                </div>
            </div>

            <!-- MENTAL PAGE -->
            <div id="mental" class="page">
                <div class="header">
                    <h1>√âtat Mental</h1>
                    <p>Suivi de votre bien-√™tre psychologique</p>
                </div>

                <h2 class="page-title">Indicateurs Psychologiques</h2>
                <div class="skills-grid">
                    <div class="skill-card">
                        <h3>üòä Moral</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="mentalMoral" style="width: 100%; background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);"></div>
                        </div>
                        <div class="skill-level" id="mentalMoralLevel">Excellent (100/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üò∞ Stress</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="mentalStress" style="width: 0%; background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);"></div>
                        </div>
                        <div class="skill-level" id="mentalStressLevel">Faible (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üí™ R√©silience</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="mentalResilience" style="width: 50%; background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);"></div>
                        </div>
                        <div class="skill-level" id="mentalResilienceLevel">Moyen (50/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üéØ D√©termination</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="mentalDetermination" style="width: 75%; background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);"></div>
                        </div>
                        <div class="skill-level" id="mentalDeterminationLevel">Bon (75/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>üòî D√©pression</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="mentalDepression" style="width: 0%; background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);"></div>
                        </div>
                        <div class="skill-level" id="mentalDepressionLevel">Aucune (0/100)</div>
                    </div>
                    <div class="skill-card">
                        <h3>ü§ù Loyaut√©</h3>
                        <div class="skill-bar">
                            <div class="skill-progress" id="mentalLoyalty" style="width: 80%; background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);"></div>
                        </div>
                        <div class="skill-level" id="mentalLoyaltyLevel">Tr√®s Bonne (80/100)</div>
                    </div>
                </div>
            </div>

            <!-- JOURNAL PAGE -->
            <div id="journal" class="page">
                <div class="header">
                    <h1>Journal de Marche</h1>
                    <p>Historique de vos √©v√©nements et actions</p>
                </div>

                <h2 class="page-title">Entr√©es du Journal</h2>
                <div id="journalEntries" style="margin-top: 20px;">
                    <p style="color: #b0b0b0;">Aucune entr√©e pour le moment</p>
                </div>
            </div>

            <!-- STATS PAGE -->
            <div id="stats" class="page">
                <div class="header">
                    <h1>Statistiques D√©taill√©es</h1>
                    <p>Aper√ßu complet de votre progression</p>
                </div>

                <h2 class="page-title">Statistiques de Carri√®re</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Ann√©es de Service</h4>
                        <div class="value" id="yearsOfService">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Exp√©rience Totale</h4>
                        <div class="value" id="totalXP">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Prestige</h4>
                        <div class="value" id="totalPrestige">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Rang Actuel</h4>
                        <div class="value" id="currentRankStat">-</div>
                    </div>
                </div>

                <h2 class="page-title">Statistiques de Combat</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Ennemis √âlimin√©s</h4>
                        <div class="value" id="enemiesKilled">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Taux de Survie</h4>
                        <div class="value" id="survivalRate">100%</div>
                    </div>
                    <div class="stat-box">
                        <h4>Blessures Graves</h4>
                        <div class="value" id="severeWounds">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Cicatrices</h4>
                        <div class="value" id="scars">0</div>
                    </div>
                </div>

                <h2 class="page-title">Statistiques Personnelles</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Amis Faits</h4>
                        <div class="value" id="friendsMade">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Ennemis</h4>
                        <div class="value" id="enemiesMade">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Romances</h4>
                        <div class="value" id="romances">0</div>
                    </div>
                    <div class="stat-box">
                        <h4>Secrets D√©couverts</h4>
                        <div class="value" id="secretsDiscovered">0</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Titre</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                Contenu du modal
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeModal()">Fermer</button>
                <button class="btn btn-primary" id="modalAction" style="display: none;" onclick="executeModalAction()">Confirmer</button>
            </div>
        </div>
    </div>

    <script>
        // GAME STATE
        let gameState = {
            player: {
                name: '',
                birthDate: '',
                branch: 'heer',
                initialRank: 'gefreiter',
                education: 'military',
                notes: '',
                currentRank: 'gefreiter',
                experience: 0,
                prestige: 0,
                health: 100,
                moral: 100,
                stress: 0,
                loyalty: 80,
                ideology: 50,
                daysServed: 0,
                missionsCompleted: 0,
                combatsParticipated: 0,
                totalWounds: 0,
                totalPromotions: 0,
                totalDecorations: 0,
                decorations: [],
                skills: {
                    shooting: 0,
                    melee: 0,
                    defense: 0,
                    tactics: 0,
                    leadership: 0,
                    intelligence: 0,
                    survival: 0,
                    mechanics: 0,
                    medicine: 0
                },
                health_parts: {
                    head: 100,
                    armRight: 100,
                    armLeft: 100,
                    chest: 100,
                    abdomen: 100,
                    legRight: 100,
                    legLeft: 100,
                    nervous: 100
                },
                mental: {
                    moral: 100,
                    stress: 0,
                    resilience: 50,
                    determination: 75,
                    depression: 0,
                    loyalty: 80
                },
                promotionHistory: [],
                journalEntries: []
            },
            gameStarted: false
        };

        // RANKS DATA
        const ranks = {
            heer: [
                { name: 'Gefreiter', level: 1, xpRequired: 500 },
                { name: 'Unteroffizier', level: 2, xpRequired: 1000 },
                { name: 'Feldwebel', level: 3, xpRequired: 1500 },
                { name: 'Oberfeldwebel', level: 4, xpRequired: 2000 },
                { name: 'Stabsfeldwebel', level: 5, xpRequired: 2500 },
                { name: 'Leutnant', level: 6, xpRequired: 3000 },
                { name: 'Oberleutnant', level: 7, xpRequired: 3500 },
                { name: 'Hauptmann', level: 8, xpRequired: 4000 },
                { name: 'Major', level: 9, xpRequired: 5000 },
                { name: 'Oberstleutnant', level: 10, xpRequired: 6000 },
                { name: 'Oberst', level: 11, xpRequired: 7000 },
                { name: 'Generalmajor', level: 12, xpRequired: 8000 },
                { name: 'Generalleutnant', level: 13, xpRequired: 9000 },
                { name: 'General', level: 14, xpRequired: 10000 }
            ],
            luftwaffe: [
                { name: 'Gefreiter', level: 1, xpRequired: 500 },
                { name: 'Unteroffizier', level: 2, xpRequired: 1000 },
                { name: 'Feldwebel', level: 3, xpRequired: 1500 },
                { name: 'Oberfeldwebel', level: 4, xpRequired: 2000 },
                { name: 'Stabsfeldwebel', level: 5, xpRequired: 2500 },
                { name: 'Leutnant', level: 6, xpRequired: 3000 },
                { name: 'Oberleutnant', level: 7, xpRequired: 3500 },
                { name: 'Hauptmann', level: 8, xpRequired: 4000 },
                { name: 'Major', level: 9, xpRequired: 5000 },
                { name: 'Oberstleutnant', level: 10, xpRequired: 6000 },
                { name: 'Oberst', level: 11, xpRequired: 7000 },
                { name: 'Generalmajor', level: 12, xpRequired: 8000 },
                { name: 'Generalleutnant', level: 13, xpRequired: 9000 },
                { name: 'General', level: 14, xpRequired: 10000 }
            ],
            kriegsmarine: [
                { name: 'Gefreiter', level: 1, xpRequired: 500 },
                { name: 'Obergefreiter', level: 2, xpRequired: 1000 },
                { name: 'Maat', level: 3, xpRequired: 1500 },
                { name: 'Obermaat', level: 4, xpRequired: 2000 },
                { name: 'Stabsobermaat', level: 5, xpRequired: 2500 },
                { name: 'Leutnant zur See', level: 6, xpRequired: 3000 },
                { name: 'Oberleutnant zur See', level: 7, xpRequired: 3500 },
                { name: 'Kapit√§nleutnant', level: 8, xpRequired: 4000 },
                { name: 'Korvettenkapit√§n', level: 9, xpRequired: 5000 },
                { name: 'Fregattenkapit√§n', level: 10, xpRequired: 6000 },
                { name: 'Kapit√§n zur See', level: 11, xpRequired: 7000 },
                { name: 'Konteradmiral', level: 12, xpRequired: 8000 },
                { name: 'Vizeadmiral', level: 13, xpRequired: 9000 },
                { name: 'Generaladmiral', level: 14, xpRequired: 10000 }
            ]
        };

        // PAGE NAVIGATION
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            document.getElementById(pageId).classList.add('active');

            // Update nav buttons
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update dashboard if needed
            if (pageId === 'dashboard' && gameState.gameStarted) {
                updateDashboard();
            }
        }

        // START GAME
        function startGame() {
            const name = document.getElementById('playerName').value;
            const birthDate = document.getElementById('birthDate').value;
            const branch = document.getElementById('branch').value;
            const initialRank = document.getElementById('initialRank').value;
            const education = document.getElementById('education').value;
            const notes = document.getElementById('notes').value;

            if (!name) {
                alert('Veuillez entrer un nom');
                return;
            }

            gameState.player.name = name;
            gameState.player.birthDate = birthDate;
            gameState.player.branch = branch;
            gameState.player.initialRank = initialRank;
            gameState.player.currentRank = initialRank;
            gameState.player.education = education;
            gameState.player.notes = notes;
            gameState.gameStarted = true;

            // Add initial journal entry
            addJournalEntry(`D√©but de la simulation - ${name} commence sa carri√®re militaire`);

            // Update dashboard
            updateDashboard();

            // Show dashboard
            showPage('dashboard');
            document.querySelectorAll('.nav-button')[1].classList.add('active');

            saveGame();
        }

        // UPDATE DASHBOARD
        function updateDashboard() {
            document.getElementById('dashboardName').textContent = gameState.player.name;
            document.getElementById('dashboardRank').textContent = getCurrentRankName();
            document.getElementById('dashboardBranch').textContent = getBranchName(gameState.player.branch);
            document.getElementById('dashboardExp').textContent = Math.floor((gameState.player.experience / getNextRankXP()) * 100) + '%';
            document.getElementById('dashboardMoral').textContent = gameState.player.mental.moral + '/100';
            document.getElementById('dashboardHealth').textContent = gameState.player.health + '/100';

            document.getElementById('daysServed').textContent = gameState.player.daysServed;
            document.getElementById('missionsCompleted').textContent = gameState.player.missionsCompleted;
            document.getElementById('combatsParticipated').textContent = gameState.player.combatsParticipated;
            document.getElementById('totalWounds').textContent = gameState.player.totalWounds;
            document.getElementById('totalPromotions').textContent = gameState.player.totalPromotions;
            document.getElementById('totalDecorations').textContent = gameState.player.totalDecorations;

            updateCareerPage();
            updateSkillsPage();
            updateHealthPage();
            updateMentalPage();
            updateDecorationsPage();
        }

        // ADVANCE TIME
        function advanceDay() {
            gameState.player.daysServed += 1;
            gameState.player.experience += Math.random() * 10;
            gameState.player.mental.stress += Math.random() * 5;
            if (gameState.player.mental.stress > 100) gameState.player.mental.stress = 100;
            gameState.player.mental.moral -= Math.random() * 2;
            if (gameState.player.mental.moral < 0) gameState.player.mental.moral = 0;

            checkPromotion();
            updateDashboard();
            saveGame();

            showNotification('Un jour a pass√©');
        }

        function advanceMonth() {
            for (let i = 0; i < 30; i++) {
                advanceDay();
            }
            showNotification('Un mois a pass√©');
        }

        // PERFORM ACTION
        function performAction(action) {
            const actions = {
                patrol: { xp: 50, skills: ['tactics', 'survival'], moral: 10, stress: -5 },
                training: { xp: 75, skills: ['shooting', 'melee'], moral: 5, stress: 10 },
                study: { xp: 100, skills: ['tactics', 'leadership'], moral: 0, stress: 15 },
                inspection: { xp: 60, skills: ['leadership'], moral: 20, stress: 5 },
                rest: { xp: 20, skills: [], moral: 30, stress: -20, health: 20 },
                socializing: { xp: 40, skills: ['leadership'], moral: 40, stress: -10 }
            };

            const act = actions[action];
            if (!act) return;

            gameState.player.experience += act.xp;
            gameState.player.mental.moral += act.moral;
            gameState.player.mental.stress += act.stress;
            if (gameState.player.health < 100 && act.health) {
                gameState.player.health += act.health;
            }

            // Clamp values
            if (gameState.player.mental.moral > 100) gameState.player.mental.moral = 100;
            if (gameState.player.mental.moral < 0) gameState.player.mental.moral = 0;
            if (gameState.player.mental.stress > 100) gameState.player.mental.stress = 100;
            if (gameState.player.mental.stress < 0) gameState.player.mental.stress = 0;
            if (gameState.player.health > 100) gameState.player.health = 100;

            // Improve skills
            act.skills.forEach(skill => {
                gameState.player.skills[skill] += Math.random() * 5;
                if (gameState.player.skills[skill] > 100) gameState.player.skills[skill] = 100;
            });

            advanceDay();
            showNotification(`Action effectu√©e: +${act.xp} XP`);
        }

        // ACCEPT MISSION
        function acceptMission(missionType) {
            const missions = {
                reconnaissance: { xp: 500, prestige: 100, name: 'Reconnaissance A√©rienne' },
                patrol: { xp: 300, prestige: 50, name: 'Patrouille D√©fensive' }
            };

            const mission = missions[missionType];
            if (!mission) return;

            gameState.player.experience += mission.xp;
            gameState.player.prestige += mission.prestige;
            gameState.player.missionsCompleted += 1;

            addJournalEntry(`Mission compl√©t√©e: ${mission.name}`);
            updateDashboard();
            saveGame();

            showNotification(`Mission accept√©e et compl√©t√©e: +${mission.xp} XP, +${mission.prestige} Prestige`);
        }

        // START TRAINING
        function startTraining(trainingType) {
            const trainings = {
                marksmanship: { skill: 'shooting', duration: 7, xp: 200, name: 'Tir de Pr√©cision' },
                tactics: { skill: 'tactics', duration: 14, xp: 300, name: 'Tactique Militaire' },
                leadership: { skill: 'leadership', duration: 21, xp: 400, name: 'Leadership' },
                survival: { skill: 'survival', duration: 10, xp: 250, name: 'Survie' }
            };

            const training = trainings[trainingType];
            if (!training) return;

            // Simulate training
            for (let i = 0; i < training.duration; i++) {
                gameState.player.skills[training.skill] += 5;
                gameState.player.experience += training.xp / training.duration;
                advanceDay();
            }

            if (gameState.player.skills[training.skill] > 100) {
                gameState.player.skills[training.skill] = 100;
            }

            addJournalEntry(`Entra√Ænement compl√©t√©: ${training.name}`);
            showNotification(`Entra√Ænement termin√©: +${training.xp} XP`);
        }

        // CHECK PROMOTION
        function checkPromotion() {
            const currentRankIndex = ranks[gameState.player.branch].findIndex(r => r.name === gameState.player.currentRank);
            if (currentRankIndex === -1 || currentRankIndex === ranks[gameState.player.branch].length - 1) return;

            const nextRank = ranks[gameState.player.branch][currentRankIndex + 1];
            if (gameState.player.experience >= nextRank.xpRequired) {
                gameState.player.currentRank = nextRank.name;
                gameState.player.totalPromotions += 1;

                const promotionEntry = {
                    date: gameState.player.daysServed,
                    rank: nextRank.name
                };
                gameState.player.promotionHistory.push(promotionEntry);

                addJournalEntry(`Promotion √† ${nextRank.name}!`);
                showNotification(`Promotion √† ${nextRank.name}!`);
            }
        }

        // UPDATE CAREER PAGE
        function updateCareerPage() {
            const currentRankIndex = ranks[gameState.player.branch].findIndex(r => r.name === gameState.player.currentRank);
            const currentRank = ranks[gameState.player.branch][currentRankIndex];
            const nextRank = currentRankIndex < ranks[gameState.player.branch].length - 1 ? ranks[gameState.player.branch][currentRankIndex + 1] : null;

            document.getElementById('currentRankDisplay').textContent = gameState.player.currentRank;
            document.getElementById('rankDescription').textContent = `Rang ${currentRank.level} / ${ranks[gameState.player.branch].length}`;

            if (nextRank) {
                const progress = (gameState.player.experience / nextRank.xpRequired) * 100;
                document.getElementById('rankProgressBar').style.width = Math.min(progress, 100) + '%';
                document.getElementById('rankPercentage').textContent = Math.floor(Math.min(progress, 100)) + '%';
                document.getElementById('rankXP').textContent = Math.floor(gameState.player.experience);
                document.getElementById('rankXPRequired').textContent = nextRank.xpRequired;
            } else {
                document.getElementById('rankProgressBar').style.width = '100%';
                document.getElementById('rankPercentage').textContent = 'MAX';
                document.getElementById('rankXP').textContent = Math.floor(gameState.player.experience);
                document.getElementById('rankXPRequired').textContent = 'MAX';
            }

            // Update promotions list
            const promotionsList = document.getElementById('promotionsList');
            if (gameState.player.promotionHistory.length > 0) {
                promotionsList.innerHTML = gameState.player.promotionHistory.map(p => `
                    <div class="promotion-item">
                        <div class="date">Jour ${p.date}</div>
                        <div>Promu √†: ${p.rank}</div>
                    </div>
                `).join('');
            }
        }

        // UPDATE SKILLS PAGE
        function updateSkillsPage() {
            const skillsMap = {
                shooting: 'Shooting',
                melee: 'Melee',
                defense: 'Defense',
                tactics: 'Tactics',
                leadership: 'Leadership',
                intelligence: 'Intelligence',
                survival: 'Survival',
                mechanics: 'Mechanics',
                medicine: 'Medicine'
            };

            for (const [key, displayName] of Object.entries(skillsMap)) {
                const value = gameState.player.skills[key];
                const level = getSkillLevel(value);
                document.getElementById(`skill${displayName}`).style.width = value + '%';
                document.getElementById(`skill${displayName}Level`).textContent = `${level} (${Math.floor(value)}/100)`;
            }
        }

        // UPDATE HEALTH PAGE
        function updateHealthPage() {
            const bodyParts = [
                { id: 'head', name: 'Head' },
                { id: 'armRight', name: 'ArmRight' },
                { id: 'armLeft', name: 'ArmLeft' },
                { id: 'chest', name: 'Chest' },
                { id: 'abdomen', name: 'Abdomen' },
                { id: 'legRight', name: 'LegRight' },
                { id: 'legLeft', name: 'LegLeft' },
                { id: 'nervous', name: 'Nervous' }
            ];

            bodyParts.forEach(part => {
                const health = gameState.player.health_parts[part.id];
                const element = document.getElementById(`health${part.name}`);
                const statusElement = document.getElementById(`health${part.name}Status`);

                element.style.width = health + '%';

                if (health > 75) {
                    element.classList.remove('injured', 'critical');
                    statusElement.textContent = 'Sain';
                } else if (health > 25) {
                    element.classList.add('injured');
                    element.classList.remove('critical');
                    statusElement.textContent = 'Bless√©';
                } else {
                    element.classList.add('critical');
                    statusElement.textContent = 'Critique';
                }
            });

            // Update global health
            const avgHealth = Object.values(gameState.player.health_parts).reduce((a, b) => a + b) / Object.keys(gameState.player.health_parts).length;
            document.getElementById('globalHealth').style.width = avgHealth + '%';
            document.getElementById('globalHealthStatus').textContent = `${getHealthStatus(avgHealth)} (${Math.floor(avgHealth)}/100)`;
        }

        // UPDATE MENTAL PAGE
        function updateMentalPage() {
            const mental = gameState.player.mental;
            document.getElementById('mentalMoral').style.width = mental.moral + '%';
            document.getElementById('mentalMoralLevel').textContent = `${getMentalLevel(mental.moral)} (${Math.floor(mental.moral)}/100)`;

            document.getElementById('mentalStress').style.width = mental.stress + '%';
            document.getElementById('mentalStressLevel').textContent = `${getMentalLevel(mental.stress)} (${Math.floor(mental.stress)}/100)`;

            document.getElementById('mentalResilience').style.width = mental.resilience + '%';
            document.getElementById('mentalResilienceLevel').textContent = `${getMentalLevel(mental.resilience)} (${Math.floor(mental.resilience)}/100)`;

            document.getElementById('mentalDetermination').style.width = mental.determination + '%';
            document.getElementById('mentalDeterminationLevel').textContent = `${getMentalLevel(mental.determination)} (${Math.floor(mental.determination)}/100)`;

            document.getElementById('mentalDepression').style.width = mental.depression + '%';
            document.getElementById('mentalDepressionLevel').textContent = `${getMentalLevel(mental.depression)} (${Math.floor(mental.depression)}/100)`;

            document.getElementById('mentalLoyalty').style.width = mental.loyalty + '%';
            document.getElementById('mentalLoyaltyLevel').textContent = `${getMentalLevel(mental.loyalty)} (${Math.floor(mental.loyalty)}/100)`;
        }

        // UPDATE DECORATIONS PAGE
        function updateDecorationsPage() {
            const obtainedDecorations = document.getElementById('obtainedDecorations');
            if (gameState.player.decorations.length > 0) {
                obtainedDecorations.innerHTML = gameState.player.decorations.map(d => `
                    <div class="decoration-card">
                        <div class="decoration-icon">${d.icon}</div>
                        <h4>${d.name}</h4>
                        <p>${d.description}</p>
                    </div>
                `).join('');
            } else {
                obtainedDecorations.innerHTML = '<p style="color: #b0b0b0; grid-column: 1/-1;">Aucune d√©coration pour le moment</p>';
            }
        }

        // SHOW DECORATION INFO
        function showDecorationInfo(decorationId) {
            const decorations = {
                iron_cross_1: { name: 'Croix de Fer 1√®re Classe', description: 'La plus haute distinction militaire pour bravoure exceptionnelle' },
                iron_cross_2: { name: 'Croix de Fer 2√®me Classe', description: 'Distinction pour bravoure au combat' },
                wound_badge: { name: 'Insigne des Bless√©s', description: 'Pour avoir √©t√© bless√© au combat' },
                service_medal: { name: 'M√©daille de Service', description: 'Pour 4 ans de service honorable' },
                long_service: { name: 'M√©daille de Longue Dur√©e', description: 'Pour 12 ans de service' },
                eastern_front: { name: 'Insigne du Front de l\'Est', description: 'Pour service sur le Front de l\'Est' }
            };

            const deco = decorations[decorationId];
            if (!deco) return;

            showModal(deco.name, `<h3>${deco.name}</h3><p>${deco.description}</p>`, 'Obtenir');
        }

        // MODAL FUNCTIONS
        function showModal(title, content, actionText = 'Confirmer') {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('modalAction').textContent = actionText;
            document.getElementById('modalAction').style.display = 'block';
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function executeModalAction() {
            closeModal();
        }

        // UTILITY FUNCTIONS
        function getCurrentRankName() {
            return gameState.player.currentRank;
        }

        function getBranchName(branch) {
            const names = {
                heer: 'Heer (Arm√©e de Terre)',
                luftwaffe: 'Luftwaffe (Aviation)',
                kriegsmarine: 'Kriegsmarine (Marine)'
            };
            return names[branch] || branch;
        }

        function getNextRankXP() {
            const currentRankIndex = ranks[gameState.player.branch].findIndex(r => r.name === gameState.player.currentRank);
            if (currentRankIndex === -1 || currentRankIndex === ranks[gameState.player.branch].length - 1) return 10000;
            return ranks[gameState.player.branch][currentRankIndex + 1].xpRequired;
        }

        function getSkillLevel(value) {
            if (value < 20) return 'Novice';
            if (value < 40) return 'Apprenti';
            if (value < 60) return 'Comp√©tent';
            if (value < 80) return 'Expert';
            return 'Ma√Ætre';
        }

        function getHealthStatus(value) {
            if (value > 75) return 'Excellent';
            if (value > 50) return 'Bon';
            if (value > 25) return 'Bless√©';
            return 'Critique';
        }

        function getMentalLevel(value) {
            if (value < 20) return 'Tr√®s Faible';
            if (value < 40) return 'Faible';
            if (value < 60) return 'Moyen';
            if (value < 80) return 'Bon';
            return 'Excellent';
        }

        function addJournalEntry(content) {
            const entry = {
                date: gameState.player.daysServed,
                content: content
            };
            gameState.player.journalEntries.push(entry);

            const journalEntries = document.getElementById('journalEntries');
            journalEntries.innerHTML = gameState.player.journalEntries.slice(-10).reverse().map(e => `
                <div class="journal-entry">
                    <div class="date">Jour ${e.date}</div>
                    <div class="content">${e.content}</div>
                </div>
            `).join('');
        }

        function showNotification(message) {
            // Simple notification (could be enhanced)
            console.log('Notification:', message);
        }

        // SAVE/LOAD GAME
        function saveGame() {
            localStorage.setItem('eisernesKreuzSave', JSON.stringify(gameState));
        }

        function loadGame() {
            const saved = localStorage.getItem('eisernesKreuzSave');
            if (saved) {
                gameState = JSON.parse(saved);
                gameState.gameStarted = true;
                updateDashboard();
                showPage('dashboard');
                document.querySelectorAll('.nav-button')[1].classList.add('active');
            } else {
                alert('Aucune sauvegarde trouv√©e');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Check if there's a saved game
            const saved = localStorage.getItem('eisernesKreuzSave');
            if (saved) {
                const loadBtn = document.querySelector('button[onclick="loadGame()"]');
                loadBtn.style.display = 'block';
            }
        });
    </script>
</body>
</html>
